<div class="container">
    <div class="row">
        <div class="col"></div>
        <div class="col-11 col-sm-11 col-md-9 col-lg-7 col-xl-6">
            <h1 class="display-4 font-weight-bold text-center mt-5" routerLink="/" style="cursor: pointer; color: #004a54;">ThetaQuest</h1>
            <div *ngIf="error_message" class="alert alert-danger alert-dismissible fade show mx-4 qz-border qz-rounded-corner qz-card-shadow" role="alert">
                <h4 class="alert-heading">Error!</h4>
                <p>{{error_message}}</p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div *ngIf="registration_successful" class="alert alert-success alert-dismissible fade show mx-4 qz-border qz-rounded-corner qz-card-shadow" role="alert">
                <h4 class="alert-heading">Success!</h4>
                <p>Welcome to ThetaQuest!</p>
                <p>You will be automatically redirected to login page...</p>
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div *ngIf="!registration_successful" class="card qz-card qz-card-rounded qz-card-shadow my-4 mx-4 p-5">
                <h3>Sign up.</h3>
                <p class="mb-4">Hello there! register to continue...</p>
                <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
                    <div class="form-group">
                        <label class="qz-form-label" for="inputEmail">Your e-mail</label>
                        <input type="email" formControlName="email" [class.is-invalid]="email.invalid && email.touched" 
                                [class.is-valid]="email.valid && email.touched" class="form-control qz-text-input" id="inputEmail" placeholder="name@domain.com">
                        <div *ngIf="email.invalid && email.touched">
                            <small class="text-danger mx-2" *ngIf="email.errors?.required">E-mail ID is required.</small>
                            <small class="text-danger mx-2" *ngIf="email.errors?.email">Enter valid E-mail ID.</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="qz-form-label" for="inputUsername">Choose username</label>
                        <input type="text" formControlName="username" [class.is-invalid]="username.invalid && username.touched"
                                [class.is-valid]="username.valid && username.touched" class="form-control qz-text-input" id="inputUsername" placeholder="Your username">
                        <div *ngIf="username.invalid && username.touched">
                            <small class="text-danger mx-2" *ngIf="username.errors?.required">Username is required.</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="qz-form-label" for="inputPassword">Password</label>
                        <input type="password" formControlName="password" [class.is-invalid]="password.invalid && password.touched"
                            [class.is-valid]="password.valid && password.touched" class="form-control qz-text-input" id="inputPassword" placeholder="at least 8 characters">
                        <div *ngIf="password.invalid && password.touched">
                            <small class="text-danger mx-2" *ngIf="password.errors?.required">Password is required.</small>
                            <small class="text-danger mx-2" *ngIf="password.errors?.minlength">Password must be at least 8 characters.</small>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="qz-form-label" for="inputConfirmPassword">Confirm Password</label>
                        <input type="password" formControlName="confirmPassword" [class.is-invalid]="(confirmPassword.invalid && confirmPassword.touched) || registrationForm.errors?.passwordMismatch"
                            [class.is-valid]="confirmPassword.valid && confirmPassword.touched" class="form-control qz-text-input" id="inputConfirmPassword" placeholder="at least 8 characters">
                        <div *ngIf="confirmPassword.invalid && confirmPassword.touched">
                            <small class="text-danger mx-2" *ngIf="confirmPassword.errors?.required">Confirm Password is required.</small>
                            <small class="text-danger mx-2" *ngIf="confirmPassword.errors?.minlength">Password must be at least 8 characters.</small>
                        </div>
                        <small class="text-danger mx-2" *ngIf="registrationForm.errors?.passwordMismatch">Passwords do not match.</small>
                    </div>
                    <div class="form-group">
                        <label class="qz-form-label">I am a</label>
                        <div class="px-4">
                            <div class="form-check form-check-inline mr-5">
                                <input class="form-check-input" [class.is-invalid]="role.invalid && role.touched"
                                     type="radio" name="role" id="studentRadio" formControlName="role" value="student">
                                <label class="form-check-label" for="studentRadio">Student</label>
                            </div>
                            <div class="form-check form-check-inline">
                                <input class="form-check-input" [class.is-invalid]="role.invalid && role.touched"
                                    type="radio" name="role" id="teacherRadio" formControlName="role" value="teacher">
                                <label class="form-check-label" for="teacherRadio">Teacher</label>
                            </div>
                            <div>
                                <small class="text-danger mx-2" *ngIf="role.errors?.required">You must select role.</small>
                            </div>
                        </div>
                        <div class="mt-3 float-right">
                            <p>Already Registered?&nbsp; <a class="font-weight-bold" routerLink="/login">Go to Login</a></p>
                        </div>
                    </div>
                    <button [disabled]="!registrationForm.valid" type="submit" class="btn btn-primary mt-4 btn-block qz-btn qz-bg-blue">Sign Up</button>
                    
                </form>
            </div>
        </div>
        <div class="col"></div>
    </div>
</div>